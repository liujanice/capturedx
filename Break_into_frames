from moviepy.video.io.VideoFileClip import VideoFileClip
import os
import imageio

def extract_frames(video_path, output_path, num_frames=20):
    # Create the output folder if it doesn't exist
    os.makedirs(output_path, exist_ok=True)

    # Load the video clip
    clip = VideoFileClip(video_path)
    duration = clip.duration

    # Calculate the time interval to get the desired number of frames
    time_interval = max(duration / num_frames, 0.01)  

    # Loop through the time points and save frames
    for i in range(num_frames):
        frame = clip.get_frame(i * time_interval)
        imageio.imwrite(os.path.join(output_path, f"framePUL_{i}.png"), (frame * 255).astype('uint8'))

video_path = os.path.join(os.path.expanduser("~"), "Desktop", "untitled folder", "DoeJ_PUL.mp4")
output_path = os.path.join(os.path.expanduser("~"), "Desktop", "untitled folder")
extract_frames(video_path, output_path, num_frames=20)